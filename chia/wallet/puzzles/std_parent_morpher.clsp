(mod
  (
    THIS_MOD_HASH
    COVENANT_MOD_HASH
    COVENANT_INITIAL_PUZZLE_HASH
    .
    inner_puzhash
  )

  (include curry.clib)

  (curry_hashes_inline COVENANT_MOD_HASH
    (sha256 1 COVENANT_INITIAL_PUZZLE_HASH)
    (curry_hashes_inline THIS_MOD_HASH
      (sha256 1 THIS_MOD_HASH)
      (sha256 1 COVENANT_MOD_HASH)
      (sha256 1 COVENANT_INITIAL_PUZZLE_HASH)
    )
    inner_puzhash
  )
)